layout = layout.mds,
vertex.size=deg,#可以设置
vertex.label.cex = 0.09*deg,#字体大小，可以设置调节
#vertex.label.cex = 0.8,
#vertex.label = "",#选择是否显示节点名称
vertex.frame.color = "white",
edge.color="gray90",  #搞一个调色板
edge.arrow.size=0.1,
edge.curved=0.1,
vertex.label.color="black"
)
plot(net.igraph,
layout = layout.merge,
vertex.size=deg,#可以设置
vertex.label.cex = 0.09*deg,#字体大小，可以设置调节
#vertex.label.cex = 0.8,
#vertex.label = "",#选择是否显示节点名称
vertex.frame.color = "white",
edge.color="gray90",  #搞一个调色板
edge.arrow.size=0.1,
edge.curved=0.1,
vertex.label.color="black"
)
plot(net.igraph,
layout = layout.norm,
vertex.size=deg,#可以设置
vertex.label.cex = 0.09*deg,#字体大小，可以设置调节
#vertex.label.cex = 0.8,
#vertex.label = "",#选择是否显示节点名称
vertex.frame.color = "white",
edge.color="gray90",  #搞一个调色板
edge.arrow.size=0.1,
edge.curved=0.1,
vertex.label.color="black"
)
plot(net.igraph,
layout = layout.random,
vertex.size=deg,#可以设置
vertex.label.cex = 0.09*deg,#字体大小，可以设置调节
#vertex.label.cex = 0.8,
#vertex.label = "",#选择是否显示节点名称
vertex.frame.color = "white",
edge.color="gray90",  #搞一个调色板
edge.arrow.size=0.1,
edge.curved=0.1,
vertex.label.color="black"
)
plot(net.igraph,
layout = layout.reingold.tilford,
vertex.size=deg,#可以设置
vertex.label.cex = 0.09*deg,#字体大小，可以设置调节
#vertex.label.cex = 0.8,
#vertex.label = "",#选择是否显示节点名称
vertex.frame.color = "white",
edge.color="gray90",  #搞一个调色板
edge.arrow.size=0.1,
edge.curved=0.1,
vertex.label.color="black"
)
plot(net.igraph,
layout = layout.sphere,
vertex.size=deg,#可以设置
vertex.label.cex = 0.09*deg,#字体大小，可以设置调节
#vertex.label.cex = 0.8,
#vertex.label = "",#选择是否显示节点名称
vertex.frame.color = "white",
edge.color="gray90",  #搞一个调色板
edge.arrow.size=0.1,
edge.curved=0.1,
vertex.label.color="black"
)
plot(net.igraph,
layout = layout.spring,
vertex.size=deg,#可以设置
vertex.label.cex = 0.09*deg,#字体大小，可以设置调节
#vertex.label.cex = 0.8,
#vertex.label = "",#选择是否显示节点名称
vertex.frame.color = "white",
edge.color="gray90",  #搞一个调色板
edge.arrow.size=0.1,
edge.curved=0.1,
vertex.label.color="black"
)
plot(net.igraph,
layout = layout.star,
vertex.size=deg,#可以设置
vertex.label.cex = 0.09*deg,#字体大小，可以设置调节
#vertex.label.cex = 0.8,
#vertex.label = "",#选择是否显示节点名称
vertex.frame.color = "white",
edge.color="gray90",  #搞一个调色板
edge.arrow.size=0.1,
edge.curved=0.1,
vertex.label.color="black"
)
plot(net.igraph,
layout = layout.sugiyama,
vertex.size=deg,#可以设置
vertex.label.cex = 0.09*deg,#字体大小，可以设置调节
#vertex.label.cex = 0.8,
#vertex.label = "",#选择是否显示节点名称
vertex.frame.color = "white",
edge.color="gray90",  #搞一个调色板
edge.arrow.size=0.1,
edge.curved=0.1,
vertex.label.color="black"
)
plot(net.igraph,
layout = layout.svd,
vertex.size=deg,#可以设置
vertex.label.cex = 0.09*deg,#字体大小，可以设置调节
#vertex.label.cex = 0.8,
#vertex.label = "",#选择是否显示节点名称
vertex.frame.color = "white",
edge.color="gray90",  #搞一个调色板
edge.arrow.size=0.1,
edge.curved=0.1,
vertex.label.color="black"
)
plot(net.igraph,
layout = layout_,
vertex.size=deg,#可以设置
vertex.label.cex = 0.09*deg,#字体大小，可以设置调节
#vertex.label.cex = 0.8,
#vertex.label = "",#选择是否显示节点名称
vertex.frame.color = "white",
edge.color="gray90",  #搞一个调色板
edge.arrow.size=0.1,
edge.curved=0.1,
vertex.label.color="black"
)
plot(net.igraph,
layout = layout_as_bipartite,
vertex.size=deg,#可以设置
vertex.label.cex = 0.09*deg,#字体大小，可以设置调节
#vertex.label.cex = 0.8,
#vertex.label = "",#选择是否显示节点名称
vertex.frame.color = "white",
edge.color="gray90",  #搞一个调色板
edge.arrow.size=0.1,
edge.curved=0.1,
vertex.label.color="black"
)
plot(net.igraph,
layout = layout_as_star,
vertex.size=deg,#可以设置
vertex.label.cex = 0.09*deg,#字体大小，可以设置调节
#vertex.label.cex = 0.8,
#vertex.label = "",#选择是否显示节点名称
vertex.frame.color = "white",
edge.color="gray90",  #搞一个调色板
edge.arrow.size=0.1,
edge.curved=0.1,
vertex.label.color="black"
)
plot(net.igraph,
layout = layout_as_tree
,
vertex.size=deg,#可以设置
vertex.label.cex = 0.09*deg,#字体大小，可以设置调节
#vertex.label.cex = 0.8,
#vertex.label = "",#选择是否显示节点名称
vertex.frame.color = "white",
edge.color="gray90",  #搞一个调色板
edge.arrow.size=0.1,
edge.curved=0.1,
vertex.label.color="black"
)
plot(net.igraph,
layout = layout_components
,
vertex.size=deg,#可以设置
vertex.label.cex = 0.09*deg,#字体大小，可以设置调节
#vertex.label.cex = 0.8,
#vertex.label = "",#选择是否显示节点名称
vertex.frame.color = "white",
edge.color="gray90",  #搞一个调色板
edge.arrow.size=0.1,
edge.curved=0.1,
vertex.label.color="black"
)
plot(net.igraph,
layout = layout_in_circle
,
vertex.size=deg,#可以设置
vertex.label.cex = 0.09*deg,#字体大小，可以设置调节
#vertex.label.cex = 0.8,
#vertex.label = "",#选择是否显示节点名称
vertex.frame.color = "white",
edge.color="gray90",  #搞一个调色板
edge.arrow.size=0.1,
edge.curved=0.1,
vertex.label.color="black"
)
plot(net.igraph,
layout = layout_nicely
,
vertex.size=deg,#可以设置
vertex.label.cex = 0.09*deg,#字体大小，可以设置调节
#vertex.label.cex = 0.8,
#vertex.label = "",#选择是否显示节点名称
vertex.frame.color = "white",
edge.color="gray90",  #搞一个调色板
edge.arrow.size=0.1,
edge.curved=0.1,
vertex.label.color="black"
)
plot(net.igraph,
layout = layout_on_grid
,
vertex.size=deg,#可以设置
vertex.label.cex = 0.09*deg,#字体大小，可以设置调节
#vertex.label.cex = 0.8,
#vertex.label = "",#选择是否显示节点名称
vertex.frame.color = "white",
edge.color="gray90",  #搞一个调色板
edge.arrow.size=0.1,
edge.curved=0.1,
vertex.label.color="black"
)
plot(net.igraph,
layout = layout_on_sphere
,
vertex.size=deg,#可以设置
vertex.label.cex = 0.09*deg,#字体大小，可以设置调节
#vertex.label.cex = 0.8,
#vertex.label = "",#选择是否显示节点名称
vertex.frame.color = "white",
edge.color="gray90",  #搞一个调色板
edge.arrow.size=0.1,
edge.curved=0.1,
vertex.label.color="black"
)
plot(net.igraph,
layout = layout_randomly
,
vertex.size=deg,#可以设置
vertex.label.cex = 0.09*deg,#字体大小，可以设置调节
#vertex.label.cex = 0.8,
#vertex.label = "",#选择是否显示节点名称
vertex.frame.color = "white",
edge.color="gray90",  #搞一个调色板
edge.arrow.size=0.1,
edge.curved=0.1,
vertex.label.color="black"
)
plot(net.igraph,
layout = layout_with_dh
,
vertex.size=deg,#可以设置
vertex.label.cex = 0.09*deg,#字体大小，可以设置调节
#vertex.label.cex = 0.8,
#vertex.label = "",#选择是否显示节点名称
vertex.frame.color = "white",
edge.color="gray90",  #搞一个调色板
edge.arrow.size=0.1,
edge.curved=0.1,
vertex.label.color="black"
)
plot(net.igraph,
layout = layout_with_drl
,
vertex.size=deg,#可以设置
vertex.label.cex = 0.09*deg,#字体大小，可以设置调节
#vertex.label.cex = 0.8,
#vertex.label = "",#选择是否显示节点名称
vertex.frame.color = "white",
edge.color="gray90",  #搞一个调色板
edge.arrow.size=0.1,
edge.curved=0.1,
vertex.label.color="black"
)
plot(net.igraph,
layout = layout_with_fr
,
vertex.size=deg,#可以设置
vertex.label.cex = 0.09*deg,#字体大小，可以设置调节
#vertex.label.cex = 0.8,
#vertex.label = "",#选择是否显示节点名称
vertex.frame.color = "white",
edge.color="gray90",  #搞一个调色板
edge.arrow.size=0.1,
edge.curved=0.1,
vertex.label.color="black"
)
plot(net.igraph,
layout = layout_with_gem
,
vertex.size=deg,#可以设置
vertex.label.cex = 0.09*deg,#字体大小，可以设置调节
#vertex.label.cex = 0.8,
#vertex.label = "",#选择是否显示节点名称
vertex.frame.color = "white",
edge.color="gray90",  #搞一个调色板
edge.arrow.size=0.1,
edge.curved=0.1,
vertex.label.color="black"
)
plot(net.igraph,
layout = layout_with_graphopt
,
vertex.size=deg,#可以设置
vertex.label.cex = 0.09*deg,#字体大小，可以设置调节
#vertex.label.cex = 0.8,
#vertex.label = "",#选择是否显示节点名称
vertex.frame.color = "white",
edge.color="gray90",  #搞一个调色板
edge.arrow.size=0.1,
edge.curved=0.1,
vertex.label.color="black"
)
plot(net.igraph,
layout = layout_with_kk
,
vertex.size=deg,#可以设置
vertex.label.cex = 0.09*deg,#字体大小，可以设置调节
#vertex.label.cex = 0.8,
#vertex.label = "",#选择是否显示节点名称
vertex.frame.color = "white",
edge.color="gray90",  #搞一个调色板
edge.arrow.size=0.1,
edge.curved=0.1,
vertex.label.color="black"
)
plot(net.igraph,
layout = layout_with_lgl
,
vertex.size=deg,#可以设置
vertex.label.cex = 0.09*deg,#字体大小，可以设置调节
#vertex.label.cex = 0.8,
#vertex.label = "",#选择是否显示节点名称
vertex.frame.color = "white",
edge.color="gray90",  #搞一个调色板
edge.arrow.size=0.1,
edge.curved=0.1,
vertex.label.color="black"
)
plot(net.igraph,
layout = layout_with_mds
,
vertex.size=deg,#可以设置
vertex.label.cex = 0.09*deg,#字体大小，可以设置调节
#vertex.label.cex = 0.8,
#vertex.label = "",#选择是否显示节点名称
vertex.frame.color = "white",
edge.color="gray90",  #搞一个调色板
edge.arrow.size=0.1,
edge.curved=0.1,
vertex.label.color="black"
)
plot(net.igraph,
layout = layout_with_sugiyama
,
vertex.size=deg,#可以设置
vertex.label.cex = 0.09*deg,#字体大小，可以设置调节
#vertex.label.cex = 0.8,
#vertex.label = "",#选择是否显示节点名称
vertex.frame.color = "white",
edge.color="gray90",  #搞一个调色板
edge.arrow.size=0.1,
edge.curved=0.1,
vertex.label.color="black"
)
plot(net.igraph,
layout = layout_with_drl
,
vertex.size=deg,#可以设置
vertex.label.cex = 0.09*deg,#字体大小，可以设置调节
#vertex.label.cex = 0.8,
#vertex.label = "",#选择是否显示节点名称
vertex.frame.color = "white",
edge.color="gray90",  #搞一个调色板
edge.arrow.size=0.1,
edge.curved=0.1,
vertex.label.color="black"
)
plot(net.igraph,
layout = layout_with_dh
,
vertex.size=deg,#可以设置
vertex.label.cex = 0.09*deg,#字体大小，可以设置调节
#vertex.label.cex = 0.8,
#vertex.label = "",#选择是否显示节点名称
vertex.frame.color = "white",
edge.color="gray90",  #搞一个调色板
edge.arrow.size=0.1,
edge.curved=0.1,
vertex.label.color="black"
)
runApp('E:/R-Portable/GWASplot_v2/shiny')
runApp('E:/R-Portable/GWASplot_v2/shiny')
runApp('E:/R-Portable/GWASplot_v2/shiny')
runApp('E:/R-Portable/GWASplot_v2/shiny')
library(tidyverse)
library(dplyr)
library(igraph)
tair <- read.delim("C:/Users/admin/Desktop/AtMYB.txt",
header = T,
check.names = F)
#source列去除重复并改为label
sources <- tair %>% distinct(node1) %>% rename(label = node1)
destinations <- tair %>% distinct(node2) %>% rename(label = node2)
nodes <- full_join(sources, destinations, by = "label")
nodes <- nodes %>% mutate(id = 1:nrow(nodes)) %>% select(id, everything())
tair <- tair %>% rename(weight = combined_score)
edges <- tair %>% left_join(nodes, by = c("node1" = "label")) %>% rename(from = id)
edges <- edges %>% left_join(nodes, by = c("node2" = "label")) %>% rename(to = id)
edges <- select(edges, from, to, weight)
net.igraph <- graph_from_data_frame( d = edges, vertices = nodes, directed = T )
#shinyWidgets::shinyWidgetsGallery()
deg<-degree(net.igraph,mode="all")
deg<-igraph::degree(net.igraph, mode="all")
runApp('E:/R-Portable/GWASplot_v2/shiny')
runApp('E:/R-Portable/GWASplot_v2/shiny')
runApp('E:/R-Portable/GWASplot_v2/shiny')
runApp('E:/R-Portable/GWASplot_v2/shiny')
runApp('E:/R-Portable/GWASplot_v2/shiny')
runApp('E:/R-Portable/GWASplot_v2/shiny')
runApp('E:/R-Portable/GWASplot_v2/shiny')
runApp('E:/R-Portable/GWASplot_v2/shiny')
runApp('E:/R-Portable/GWASplot_v2/shiny')
runApp('E:/R-Portable/GWASplot_v2/shiny')
library("qgraph")
g <- graph_from_data_frame( d = edges, vertices = nodes, directed = F )
e <- get.edgelist(g, names = T)
l <- qgraph.layout.fruchtermanreingold(e, vcount = vcount(g),)
library("qgraph")
g <- graph_from_data_frame( d = edges, vertices = nodes, directed = F )
e <- get.edgelist(g, names = T)
l <- qgraph.layout.fruchtermanreingold(e, vcount = vcount(g),
area=8*(vcount(g)^2),
repulse.rad=(vcount(g)^3.1))
library("qgraph")
g <- graph_from_data_frame( d = edges, vertices = nodes, directed = F )
e <- get.edgelist(g, names = F)
l <- qgraph.layout.fruchtermanreingold(e, vcount = vcount(g),
area=8*(vcount(g)^2),
repulse.rad=(vcount(g)^3.1))
plot(g, layout = l,vertex.size=4,vertex.label=NA)
qgraph(e,layout="spring")
runApp('E:/R-Portable/GWASplot_v2/shiny')
runApp('E:/R-Portable/GWASplot_v2/shiny')
runApp('E:/R-Portable/GWASplot_v2/shiny')
runApp('E:/R-Portable/GWASplot_v2/shiny')
runApp('E:/R-Portable/GWASplot_v2/shiny')
runApp('E:/R-Portable/GWASplot_v2/shiny')
runApp('E:/R-Portable/GWASplot_v2/shiny')
runApp('E:/R-Portable/GWASplot_v2/shiny')
runApp('E:/R-Portable/GWASplot_v2/shiny')
plotly(net.igraph,
layout = layout_with_dh
,
vertex.size=deg,#可以设置
vertex.label.cex = 0.09*deg,#字体大小，可以设置调节
#vertex.label.cex = 0.8,
#vertex.label = "",#选择是否显示节点名称
vertex.frame.color = "white",
edge.color="gray90",  #搞一个调色板
edge.arrow.size=0.1,
edge.curved=0.1,
vertex.label.color="black"
)
plotly_build(net.igraph,
layout = layout_with_dh
,
vertex.size=deg,#可以设置
vertex.label.cex = 0.09*deg,#字体大小，可以设置调节
#vertex.label.cex = 0.8,
#vertex.label = "",#选择是否显示节点名称
vertex.frame.color = "white",
edge.color="gray90",  #搞一个调色板
edge.arrow.size=0.1,
edge.curved=0.1,
vertex.label.color="black"
)
plot(net.igraph,
layout = layout_with_dh
,
vertex.size=deg,#可以设置
vertex.label.cex = 0.09*deg,#字体大小，可以设置调节
#vertex.label.cex = 0.8,
#vertex.label = "",#选择是否显示节点名称
vertex.frame.color = "white",
edge.color="gray90",  #搞一个调色板
edge.arrow.size=0.1,
edge.curved=0.1,
vertex.label.color="black"
)
p1 <- plot(net.igraph,
layout = layout_with_dh
,
vertex.size=deg,#可以设置
vertex.label.cex = 0.09*deg,#字体大小，可以设置调节
#vertex.label.cex = 0.8,
#vertex.label = "",#选择是否显示节点名称
vertex.frame.color = "white",
edge.color="gray90",  #搞一个调色板
edge.arrow.size=0.1,
edge.curved=0.1,
vertex.label.color="black"
)
plotly(p1)
runApp('E:/R-Portable/GWASplot_v2/shiny')
runApp('E:/R-Portable/GWASplot_v2/shiny')
runApp('E:/R-Portable/GWASplot_v2/shiny')
runApp('E:/R-Portable/GWASplot_v2/shiny')
runApp('E:/R-Portable/GWASplot_v2/shiny')
runApp('E:/R-Portable/GWASplot_v2/shiny')
runApp('E:/R-Portable/GWASplot_v2/shiny')
runApp('E:/R-Portable/GWASplot_v2/shiny')
runApp('E:/R-Portable/GWASplot_v2/shiny')
runApp('E:/R-Portable/GWASplot_v2/shiny')
